#!/bin/sh

# shellcheck source=bin/dotlib
. "$(dirname "$(realpath "$0")")/dotlib"

# Print the most recent commits or filter all commits by a search term
if [ $# -gt 0 ]; then
  eval "git --no-pager log $(__git_default_log_params --no-refs) --color=always" \
    | grep -i -- "$*" || true
else
  eval "git --no-pager log $(__git_default_log_params) -n $(__git_default_commit_count)"
fi
