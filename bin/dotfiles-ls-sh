#!/bin/sh

# Enable strict mode
set -eu

# List all shell scripts that come with the dotfiles
# (Fish shell scripts can be listed with `dotfiles ls-fish`)
cd "$DOTFILES_PATH" || exit 1

git ls-files --cached --exclude-standard \
  | while read -r file; do
    if [ -L "$file" ]; then
      continue
    fi

    if [ "${file##*.}" = "sh" ] || head -n 1 "$file" | grep --quiet '^#!.*/sh'; then
      echo "${file#./}"
    fi
  done
