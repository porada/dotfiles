#!/bin/sh

# shellcheck source=bin/dotlib
. "$(dirname "$(realpath "$0")")/dotlib"

# Show files ignored by `git update-index --assume-unchanged`
print_skipped() {
  printf '\033[1;33m S\033[0m %s\n' "${1#h }"
}

files="$(git ls-files -v | grep "^h" || true)"
[ -z "$files" ] && exit 0

printf '%s\n' "$files" \
  | while IFS= read -r file; do
    print_skipped "$file"
  done
