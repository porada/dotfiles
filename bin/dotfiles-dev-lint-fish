#!/bin/sh

# Enable strict mode
set -eu

# Lint Fish shell scripts that come with the dotfiles
# (lint all files when no paths are provided)
DOTFILES_BIN_PATH="$(dirname "$(realpath "$0")")"

files="$*"

if [ $# -eq 0 ]; then
  files="$("$DOTFILES_BIN_PATH/dotfiles-dev-ls-fish")"
fi

for file in $files; do
  echo "$file"
  fish --no-execute -- "$file" || exit $?
done
