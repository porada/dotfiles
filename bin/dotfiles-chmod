#!/bin/sh

# Enable strict mode
set -eu

# Set correct permissions for an executable script
# (if no file is given, set the permissions for all bin scripts)
DOTFILES_BIN_PATH="$(dirname "$(realpath "$0")")"

if [ $# -eq 0 ]; then
  "$DOTFILES_BIN_PATH/dotfiles-ls-sh" | grep "^bin/" | xargs chmod +x
  exit $?
fi

for file in "$@"; do
  if [ -f "$file" ] && [ ! -L "$file" ]; then
    chmod +x "$file"
  else
    echo "File not found: $file"
  fi
done
